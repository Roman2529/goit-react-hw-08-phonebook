(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{103:function(t,e,n){},104:function(t,e,n){t.exports={listItem:"contactItem_listItem__2L5Gz"}},105:function(t,e,n){t.exports={list:"contactList_list__10sMa",enter:"contactList_enter__1L9E4",enterActive:"contactList_enterActive__1anW-",exit:"contactList_exit__3U8Vh",exitActive:"contactList_exitActive__2lgeW"}},106:function(t,e,n){t.exports={contactsTitle:"filter_contactsTitle__Q3MhP",boxContact:"filter_boxContact__3GpeP",boxFilter:"filter_boxFilter__rZVpn",boxInput:"filter_boxInput__3zQ1n",boxSubmit:"filter_boxSubmit__1PH6J"}},107:function(t,e,n){t.exports={boxContact:"form_boxContact__352fJ",formContact:"form_formContact__2pCzx"}},111:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(9),o=n(100),l=n(42),u=n(43),i=n(45),s=n(44),m=(n(103),n(113)),f=n(108),b=n(13),p=function(){return r.a.createElement("div",{className:"alert"},"Choose another name!")},h=n(25),C=n(112),v=n(17),d=n.n(v),E=n(28),_=n(21),x=n.n(_);x.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var g=function(t){return function(e){e(h.a.addContactRequest()),x.a.post("/contacts",Object(o.a)({},t)).then((function(n){e(h.a.addContactSuccess(Object(o.a)(Object(o.a)({},t),{},{id:n.data.name})))})).catch((function(t){return e(h.a.addContactError(t))}))}},O=function(){return function(){var t=Object(E.a)(d.a.mark((function t(e){var n,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h.a.getContactsRequest()),t.prev=1,t.next=4,x.a.get("/contacts");case 4:n=t.sent,a=Object.keys(n.data),r=a.reduce((function(t,e){return t.push(Object(o.a)({id:e},n.data[e])),t}),[]),e(h.a.getContactsSuccess(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e(h.a.getContactsError("Error"));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},S=function(t){return function(e){e(h.a.removeContactRequest()),x.a.delete("contacts/".concat(t)).then((function(){e(h.a.removeContactSuccess(t))})).catch((function(t){e(h.a.removeContactError(t))}))}},j=n(104),N=n.n(j),k=Object(b.b)(null,(function(t){return{onRemoveContact:function(e){t(S(e.target.name))}}}))((function(t){var e=t.name,n=t.number,a=t.id,c=t.onRemoveContact;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:N.a.listItem},e,": ",n,r.a.createElement("button",{type:"button",onClick:c,name:a},"Delete")))})),y=n(114),A=function(t){return t.contacts},w={ContactSelectionction:A,AlertSelection:function(t){return t.alert},FilterSelection:function(t){return t.filter},ContactFilterSelection:function(t){return t.contacts.filter((function(e){return e.name.toLowerCase().includes(t.filter.toLowerCase())}))}},L=n(105),I=n.n(L),F=Object(b.b)((function(t){var e=t.state;return{contacts:w.ContactFilterSelection(e)}}))((function(t){var e=t.contacts;return r.a.createElement("div",{className:I.a.listPeopleBox},r.a.createElement(y.a,{className:I.a.list},e.map((function(t){return r.a.createElement(m.a,{key:t.id,timeout:500,classNames:I.a},r.a.createElement(k,Object.assign({key:Object(C.a)()},t)))}))))})),R=n(106),P=n.n(R),G={onfilterChange:h.a.filterChange},J=Object(b.b)(null,G)((function(t){var e=t.value,n=t.onfilterChange;return r.a.createElement("div",{class:P.a.boxContact},r.a.createElement("form",{className:P.a.boxFilter},r.a.createElement("label",{className:P.a.label},r.a.createElement("input",{type:"text",name:"filter",placeholder:"Let`s find your contact",value:e,className:P.a.boxInput,onChange:function(t){n(t.target.value)}})),r.a.createElement("button",{type:"submit",className:P.a.boxSubmit}),r.a.createElement(F,null)))})),q=n(107),z=n.n(q),D=function(t){var e=t.name,n=t.number,a=t.handleChange;return r.a.createElement("div",{className:z.a.boxContact},r.a.createElement("form",{className:z.a.formContact},r.a.createElement("h2",null,"Phonebook"),r.a.createElement("label",null,r.a.createElement("p",null,"Name"),r.a.createElement("input",{type:"text",name:"name",onChange:a,value:e,className:z.a.nameInput})),r.a.createElement("label",null,r.a.createElement("p",null,"Number"),r.a.createElement("input",{type:"text",name:"number",onChange:a,value:n,className:z.a.nameInput})),r.a.createElement("button",{type:"submit",className:z.a.submitInput},"Add")))},M={name:"",number:""},T=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(t=e.call.apply(e,[this].concat(r))).state=Object(o.a)({},M),t.handleChange=function(e){var n=e.target.name,a=e.target.value;t.setState(Object(c.a)({},n,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,r=n.number,c=t.props.contacts;c&&(c.map((function(t){return t})).find((function(e){return e.name===t.state.name&&e.number===t.state.number}))?t.alertShow():t.props.onAddContacts({name:a,number:r}));t.setState(Object(o.a)({},M))},t.alertShow=function(){t.props.onAlertError(),setTimeout((function(){return t.props.onAlertError()}),5e3)},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetContactOperation()}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=this.props.alert;return r.a.createElement("div",null,a&&r.a.createElement(m.a,{in:!0,appear:!0,timeout:2e3,classNames:"alert",unmountOnExit:!0},r.a.createElement(p,null)),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(D,{handleChange:this.handleChange,name:e,number:n})),r.a.createElement(J,null))}}]),n}(a.Component),Q=Object(b.b)((function(t){var e=t.state;return{value:w.FilterSelection(e),alert:w.AlertSelection(e),contacts:w.ContactSelectionction(e)}}),(function(t){return{onAddContacts:function(e,n){return t(g(e,n))},onAlertError:function(){return t(h.a.alertError())},onGetContactOperation:function(){return t(O())}}}))(T);e.default=function(){return r.a.createElement(Q,null)}}}]);
//# sourceMappingURL=3.2748f190.chunk.js.map