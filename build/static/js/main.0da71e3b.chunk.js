(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{25:function(e,t,n){"use strict";var r=n(3),a=Object(r.b)("contacts/filterChange",(function(e){return{payload:{filter:e}}})),c=Object(r.b)("contacts/alertError"),u=Object(r.b)("contact/ADDTASKREQUEST"),o=Object(r.b)("contact/ADDTASKSUCCESS"),s=Object(r.b)("contact/ADDTASKERROR"),l=Object(r.b)("contact/GETCONTACTREQUEST"),i=Object(r.b)("contact/GETCONTACTSUCCESS"),b=Object(r.b)("contact/GETCONTACTERROR"),g=Object(r.b)("contact/removeASKREQUEST"),p=Object(r.b)("contact/removeTASKSUCCESS"),f=Object(r.b)("contact/removeTASKERROR");t.a={filterChange:a,alertError:c,addContactRequest:u,addContactSuccess:o,addContactError:s,getContactsRequest:l,getContactsSuccess:i,getContactsError:b,removeContactRequest:g,removeContactSuccess:p,removeContactError:f}},30:function(e,t,n){"use strict";var r=n(17),a=n.n(r),c=n(28),u=n(4),o=n(21),s=n.n(o);s.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var l=function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e)},i=function(){s.a.defaults.headers.common.Authorization=""};t.a={addNewUser:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.a.registerRequest()),t.prev=1,t.next=4,s.a.post("/users/signup",e);case 4:r=t.sent,l(r.data.token),n(u.a.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(u.a.registerError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},loginUser:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.a.loginRequest()),t.prev=1,t.next=4,s.a.post("/users/login",e);case 4:r=t.sent,l(r.data.token),n(u.a.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(u.a.loginError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(u.a.logoutRequest()),e.prev=1,e.next=4,s.a.post("/users/logout");case 4:i(),t(u.a.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(u.a.logoutError(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},currentUser:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(u.a.getCurrentUserRequest()),r=n(),c=r.auth.token){e.next=4;break}return e.abrupt("return");case 4:return l(c),e.prev=5,e.next=8,s.a.get("/users/current");case 8:o=e.sent,t(u.a.getCurrentUserSuccess(o)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(u.a.getCurrentUserError(e.t0));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}}},4:function(e,t,n){"use strict";var r=n(3),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),l=Object(r.b)("auth/loginError"),i=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),g=Object(r.b)("auth/logoutError"),p=Object(r.b)("auth/getCurrentUserRequest"),f=Object(r.b)("auth/getCurrentUserSuccess"),m=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:u,logoutRequest:i,logoutSuccess:b,logoutError:g,loginRequest:o,loginSuccess:s,loginError:l,getCurrentUserRequest:p,getCurrentUserSuccess:f,getCurrentUserError:m}},59:function(e,t,n){e.exports={userMenu_Button:"UserMenu_userMenu_Button__XutvM"}},64:function(e,t,n){e.exports=n(98)},74:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r,a,c,u,o=n(0),s=n.n(o),l=n(19),i=n.n(l),b=n(15),g=(n(69),n(13)),p=n(58),f=(n(74),n(42)),m=n(43),O=n(45),h=n(44),E=n(5),d=[{path:"/",label:"Home",exact:!0,component:Object(o.lazy)((function(){return n.e(7).then(n.bind(null,110))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(o.lazy)((function(){return n.e(6).then(n.bind(null,115))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(o.lazy)((function(){return n.e(5).then(n.bind(null,116))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(o.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,111))})),private:!0,restricted:!1}],j=(n(75),n(23)),v=n(29),C={gotAuth:function(e){return e.auth.token},gettingUserName:function(e){return e.auth.user.name}},S=n(30),k=n(59),y=n.n(k),R=Object(g.b)((function(e){return{name:C.gettingUserName(e)}}),{onLogoutUser:S.a.logOut})((function(e){var t=e.name,n=e.onLogoutUser;return s.a.createElement("div",null,s.a.createElement("span",null,"Welcome ",t),s.a.createElement("button",{type:"button",onClick:n,className:y.a.userMenu_Button},"Logout"))})),A=Object(g.b)((function(e){return{isAuth:C.gotAuth(e)}}))((function(e){var t=e.isAuth;return s.a.createElement("header",null,s.a.createElement("ul",null,s.a.createElement(v.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},s.a.createElement(v.a.Brand,{href:"#home"},"Phonebook"),s.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),s.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav"},s.a.createElement(j.a,{className:"mr-auto"},s.a.createElement(j.a.Link,null,s.a.createElement(b.b,{to:"/"},"Home")),t&&s.a.createElement(j.a.Link,null,s.a.createElement(b.b,{to:"/contacts"},"Contacts"))),s.a.createElement(j.a,null,t?s.a.createElement(j.a.Link,null,s.a.createElement(R,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a.Link,null,s.a.createElement(b.b,{to:"/register"},"Register")),s.a.createElement(j.a.Link,null,s.a.createElement(b.b,{to:"/login"},"Login"))))))))})),U=n(60),x=n(33),T=Object(g.b)((function(e){return{isAuth:C.gotAuth(e)}}))((function(e){var t=e.component,n=e.isAuth,r=Object(x.a)(e,["component","isAuth"]);return s.a.createElement(E.b,Object.assign({},r,{render:function(e){return n?s.a.createElement(t,e):s.a.createElement(E.a,{to:"/login"})}}))})),q=Object(g.b)((function(e){return{isAuth:C.gotAuth(e)}}))((function(e){var t=e.component,n=e.isAuth,r=Object(x.a)(e,["component","isAuth"]);return s.a.createElement(E.b,Object.assign({},r,{render:function(e){return n&&r.restricted?s.a.createElement(E.a,{to:"/contacts"}):s.a.createElement(t,e)}}))})),w=function(e){Object(O.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.isCurrentUser()}},{key:"render",value:function(){return s.a.createElement(o.Suspense,{fallback:s.a.createElement("h2",null,"Load")},s.a.createElement(U.a,{fluid:"md"},s.a.createElement("div",null,s.a.createElement(A,null),s.a.createElement(E.d,null,d.map((function(e){return e.private?s.a.createElement(T,Object.assign({key:e.label},e)):s.a.createElement(q,Object.assign({key:e.label},e))}))))))}}]),n}(o.Component),L=Object(g.b)((function(e){return{isAuth:C.gotAuth}}),{isCurrentUser:S.a.currentUser})(w),N=n(3),z=n(9),D=n(41),B=n(7),K=n(25),M=Object(N.c)([],(r={},Object(z.a)(r,K.a.getContactsSuccess,(function(e,t){return Object(D.a)(t.payload)})),Object(z.a)(r,K.a.addContactSuccess,(function(e,t){return[].concat(Object(D.a)(e),[t.payload])})),Object(z.a)(r,K.a.removeContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),r)),_=Object(N.c)("",Object(z.a)({},K.a.filterChange,(function(e,t){return t.payload.filter}))),G=Object(B.c)({contacts:M,filter:_,alert:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case K.a.alertError.type:return!e;default:return e}}}),Q=n(4),H={name:null,email:null},J=Object(N.c)(H,(a={},Object(z.a)(a,Q.a.registerSuccess,(function(e,t){return t.payload.user})),Object(z.a)(a,Q.a.loginSuccess,(function(e,t){return t.payload.user})),Object(z.a)(a,Q.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(z.a)(a,Q.a.logoutSuccess,(function(){return H})),a)),P=Object(N.c)(null,(c={},Object(z.a)(c,Q.a.registerSuccess,(function(e,t){return t.payload.token})),Object(z.a)(c,Q.a.loginSuccess,(function(e,t){return t.payload.token})),Object(z.a)(c,Q.a.logoutSuccess,(function(){return null})),c)),F=Object(N.c)(null,(u={},Object(z.a)(u,Q.a.registerError,(function(e,t){return t.payload})),Object(z.a)(u,Q.a.loginError,(function(e,t){return t.payload})),Object(z.a)(u,Q.a.logoutError,(function(e,t){return t.payload})),Object(z.a)(u,Q.a.getCurrentUserError,(function(e,t){return t.payload})),u)),I=Object(B.c)({user:J,token:P,error:F}),W=n(18),X=n(61),V={key:"auth",storage:n.n(X).a,ourToken:["token"]},Y=Object(N.a)({reducer:{state:G,auth:Object(W.g)(V,I)},middleware:Object(N.d)({serializableCheck:{ignoredActions:[W.a,W.f,W.b,W.c,W.d,W.e]}})}),Z=Object(W.h)(Y);i.a.render(s.a.createElement(b.a,null,s.a.createElement(g.a,{store:Y},s.a.createElement(p.a,{loading:null,persistor:Z},s.a.createElement(L,null)))),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.0da71e3b.chunk.js.map